{"mappings":"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","sources":["js/app.js"],"sourcesContent":["const canvas = document.querySelector(\"#canvas\");\r\nconst ctx = canvas.getContext('2d');\r\n\r\nconst cursor = document.querySelector('.cursor');\r\nconst ui = document.querySelector('.ui__bar');\r\nconst infoTarget = document.querySelector('.info');\r\nconst infoBar = document.querySelector('.info__bar');\r\n\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight - ui.clientHeight;\r\n\r\nlet w = canvas.width; // canvas width\r\nlet h = canvas.height; // canvas height\r\nlet PI = Math.PI; // PI\r\nlet isMouseDown = false; // Флаг зажатия\r\nlet coords = []; // координаты рисунка\r\nlet int = 20; // интервал реплея\r\nlet radius = 6; // радиус\r\nlet color = '#000000' // цвет пера\r\n\r\n/* ===== Управление ===== */\r\ndocument.addEventListener(\"keydown\", (e) => {\r\n  switch (e.code) {\r\n    // Clear\r\n    case 'KeyS':\r\n    case 'KeyЫ': \r\n      save();\r\n      break;\r\n    // Replaying\r\n    case 'KeyR':\r\n    case 'KeyК':\r\n      coords = JSON.parse(localStorage.getItem(\"coords\"));\r\n      clearCanvas();\r\n      replay();\r\n      break;\r\n    // Clear\r\n    case 'KeyC':\r\n    case 'KeyС':\r\n      clearCanvas();\r\n      break;\r\n  }\r\n});\r\nui.addEventListener('input', function(e) {\r\n  switch (e.target.type) {\r\n    case 'range':\r\n    case 'number':\r\n      sizeChange(this);\r\n      break;\r\n    case 'color': \r\n      console.log('1');\r\n      colorChange();\r\n      break;\r\n  }\r\n  // выбор размера кисти\r\n  function sizeChange(el) {\r\n    radius = (e.target.value) / 2;\r\n\r\n    if (e.target == el.querySelector('input[type=\"range\"]')) el.querySelector('input[type=\"number\"]').value = el.querySelector('input[type=\"range\"]').value;\r\n\r\n    if (e.target == el.querySelector('input[type=\"number\"]')) el.querySelector('input[type=\"range\"]').value = el.querySelector('input[type=\"number\"]').value;\r\n  }\r\n  // выбор цвета\r\n  function colorChange() {\r\n    color = e.target.value;\r\n    document.documentElement.style.setProperty('--fill-clr', color);\r\n  }\r\n})\r\n\r\n/* ===== Интерфейс ===== */\r\ninfoTarget.addEventListener(\"mouseover\", (e) => classToggle(infoBar, '_isActive'));\r\ninfoTarget.addEventListener(\"mouseout\", (e) => classToggle(infoBar, '_isActive'));\r\n\r\n/* ===== Paint ===== */\r\ncanvas.addEventListener('mousedown', (e) => {\r\n    isMouseDown = true;\r\n});\r\ncanvas.addEventListener(\"mouseup\", (e) => {\r\n  isMouseDown = false;\r\n  ctx.beginPath();\r\n  coords.push(\"mouseup\");\r\n});\r\ncanvas.addEventListener('mousemove', e => {\r\n    cursor.style.transform = `translate3d(calc(${e.clientX}px), calc(${e.clientY}px - 100%), 0)`;\r\n    if ( isMouseDown ) {\r\n        coords.push([e.clientX, e.clientY]);\r\n\r\n        ctx.fillStyle = color;\r\n        ctx.strokeStyle = color;\r\n        ctx.lineWidth = radius * 2;\r\n        ctx.lineTo(e.clientX, e.clientY);\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(e.clientX, e.clientY, radius, 0, PI * 2);\r\n        ctx.fill();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(e.clientX , e.clientY);\r\n    }\r\n});\r\n\r\nfunction replay() {\r\n    let timer = setInterval(() => {\r\n        if ( !coords.length ) {\r\n            clearInterval(timer);\r\n            ctx.beginPath();\r\n            return;\r\n        }\r\n        let crd = coords.shift();\r\n        e = {\r\n          clientX: crd[\"0\"],\r\n          clientY: crd[\"1\"],\r\n        };\r\n        ctx.lineTo(e.clientX, e.clientY);\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(e.clientX, e.clientY, radius, 0, PI * 2);\r\n        ctx.fill();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(e.clientX , e.clientY);\r\n    }, int);\r\n};\r\n\r\nfunction save() {\r\n    localStorage.setItem(\"coords\", JSON.stringify(coords));\r\n};\r\n\r\nfunction clearCanvas() {\r\n    ctx.fillStyle = '#ffffff';\r\n    ctx.fillRect(0, 0, w, h);\r\n    ctx.beginPath();\r\n    ctx.fillStyle = color;\r\n};\r\n\r\nfunction classToggle(el, cls) {\r\n  el.classList.contains(cls) ? el.classList.remove(cls) : el.classList.add(cls);\r\n}\r\n\r\n"],"names":[],"version":3,"file":"index.cea00a9b.js.map","sourceRoot":"/__parcel_source_root/"}